@model NGO_Web_Demo.Models.VolunteerVM


@{
    ViewBag.Title = "Join as Volunteer";
}

@*Security shit*@
@if (TempData["Error"] != null)
{
    <div style="color: red; padding: 15px; background: #ffe6e6; border: 1px solid red; border-radius: 5px; margin-bottom: 20px;">
        <strong>Error:</strong> @TempData["Error"]
        <br/>
        <a asp-controller="NGO_Event_" asp-action="Event_Details" asp-route-id="@Model.EventID">Return to Event Details</a>
    </div>
}
else if (ViewBag.IsEventConcluded == true)
{
    @* Server-side check for concluded events *@
    <div style="color: red; padding: 20px; text-align: center; background: #ffe6e6; border: 2px solid red; border-radius: 8px;">
        <h2>Event <strong>@ViewBag.EventTitle</strong> has concluded!</h2>
        <p>Registration is no longer available for this event.</p>
        <a asp-controller="NGO_Event_" asp-action="Event_Details" asp-route-id="@Model.EventID" 
           style="background: #dc3545; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
            Return to Event Details
        </a>
    </div>
}

else{
        @if (ViewBag.EventTitle != null)
        {
            <h4>Sign up as Volunteer for <strong>@ViewBag.EventTitle</strong>!</h4>
        }



        <h1>Volunteer Recruitment</h1>

        <p>This is some bullshit</p>


    <form asp-action="AddVolunteer" asp-controller="Recruitment" method="post" class="needs-validation" novalidate>
        <input type="hidden" name="eventId" value="@ViewBag.EventID" />

        <div class="mb-3">
            <label asp-for="VolunteerID" class="form-label">ID</label>
            <input asp-for="VolunteerID" class="form-control" readonly />
            <span asp-validation-for="VolunteerID" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Name" class="form-label"></label>
            <input asp-for="Name" class="form-control" />
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Email" class="form-label"></label>
            <input asp-for="Email" class="form-control" />
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="PhoneNumber" class="form-label"></label>
            <input asp-for="PhoneNumber" class="form-control" />
            <span asp-validation-for="PhoneNumber" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Age" class="form-label"></label>
            <input asp-for="Age" type="number" class="form-control" />
            <span asp-validation-for="Age" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="ShiftStart" class="form-label"></label>
            <input asp-for="ShiftStart"
                   type="datetime-local"
                   class="form-control"
                   min="@ViewBag.EventStart"
                   max="@ViewBag.EventEnd" />
            <span asp-validation-for="ShiftStart" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="WorkHours" class="form-label"></label>
            <input asp-for="WorkHours" type="number" class="form-control" />
            <span asp-validation-for="WorkHours" class="text-danger"></span>
        </div>

        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">Submit</button>
            <button type="reset" class="btn btn-secondary">Reset</button>
        </div>
    </form>

        @section foot {
            <script>
                // Enable hidden file validation
                $.validator.setDefaults({ ignore: '' });
            </script>
        }


        @if (TempData["info"] != null)
        {
            <p style="color:green">@TempData["Message"]</p>
        }

        <a asp-action="RecruitingInfo">View All Volunteers</a>

    }





